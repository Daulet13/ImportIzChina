# Диагностические запросы для 1С — понять что есть в базе

**Проблема:** Основные запросы вернули пусто. Нужно понять, какие документы вообще существуют.

---

## ДИАГНОСТИКА 1: Какие ВидыОперации вообще есть у ПоступлениеТоваровУслуг?

```
ВЫБРАТЬ
    ПТУ.ВидОперации КАК ВидОперации,
    КОЛИЧЕСТВО(ПТУ.Ссылка) КАК КолвоДокументов,
    МИНИМУМ(ПТУ.Дата) КАК ПерваяДата,
    МАКСИМУМ(ПТУ.Дата) КАК ПоследняяДата
ИЗ
    Документ.ПоступлениеТоваровУслуг КАК ПТУ
ГДЕ
    ПТУ.Дата >= &НачалоПериода
СГРУППИРОВАТЬ ПО
    ПТУ.ВидОперации
```
**Параметр:** НачалоПериода = 01.01.2025

**Зачем:** Увидеть ВСЕ виды операций и понять, есть ли вообще ПокупкаКомиссия.

---

## ДИАГНОСТИКА 2: Есть ли Питатель-компании хоть где-то как контрагенты?

```
ВЫБРАТЬ
    Контрагент.Наименование КАК Наименование,
    Контрагент.ИНН КАК ИНН
ИЗ
    Справочник.Контрагенты КАК Контрагент
ГДЕ
    Контрагент.ИНН В ("7736330096", "9701148812", "9726076292", "7807399890", "7717519748", "7810796175")
```

**Зачем:** Убедиться что компании Питателя есть в справочнике контрагентов этой базы.

---

## ДИАГНОСТИКА 3: Какие-НИБУДЬ документы по этим контрагентам за всё время?

```
ВЫБРАТЬ
    "ПТУ" КАК ТипДокумента,
    ПТУ.Дата КАК Дата,
    ПТУ.Номер КАК Номер,
    ПТУ.ВидОперации КАК ВидОперации,
    ПТУ.Контрагент.Наименование КАК Контрагент,
    ПТУ.Контрагент.ИНН КАК ИНН,
    ПТУ.СуммаДокумента КАК Сумма,
    ПТУ.Проведен КАК Проведен
ИЗ
    Документ.ПоступлениеТоваровУслуг КАК ПТУ
ГДЕ
    (   ПТУ.Контрагент.ИНН В ("7736330096", "9701148812", "9726076292", "7807399890", "7717519748", "7810796175")
     ИЛИ ПТУ.Контрагент.Наименование ПОДОБНО "%ЕВРАЗИЯ%"
     ИЛИ ПТУ.Контрагент.Наименование ПОДОБНО "%ФАЛКОН%"
     ИЛИ ПТУ.Контрагент.Наименование ПОДОБНО "%КОМИНС%"
     ИЛИ ПТУ.Контрагент.Наименование ПОДОБНО "%АКВАНУР%"
     ИЛИ ПТУ.Контрагент.Наименование ПОДОБНО "%ANKARA%"
     ИЛИ ПТУ.Контрагент.Наименование ПОДОБНО "%ДИАСОН%")

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
    "ОКОП" КАК ТипДокумента,
    ОКОП.Дата КАК Дата,
    ОКОП.Номер КАК Номер,
    ОКОП.ВидОперации КАК ВидОперации,
    ОКОП.Контрагент.Наименование КАК Контрагент,
    ОКОП.Контрагент.ИНН КАК ИНН,
    ОКОП.СуммаДокумента КАК Сумма,
    ОКОП.Проведен КАК Проведен
ИЗ
    Документ.ОтчетКомитентуОПродажах КАК ОКОП
ГДЕ
    (   ОКОП.Контрагент.ИНН В ("7736330096", "9701148812", "9726076292", "7807399890", "7717519748", "7810796175")
     ИЛИ ОКОП.Контрагент.Наименование ПОДОБНО "%ЕВРАЗИЯ%"
     ИЛИ ОКОП.Контрагент.Наименование ПОДОБНО "%ФАЛКОН%"
     ИЛИ ОКОП.Контрагент.Наименование ПОДОБНО "%КОМИНС%"
     ИЛИ ОКОП.Контрагент.Наименование ПОДОБНО "%АКВАНУР%")

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
    "ПередачаТоваров" КАК ТипДокумента,
    ПТ.Дата КАК Дата,
    ПТ.Номер КАК Номер,
    ПТ.ВидОперации КАК ВидОперации,
    ПТ.Контрагент.Наименование КАК Контрагент,
    ПТ.Контрагент.ИНН КАК ИНН,
    ПТ.СуммаДокумента КАК Сумма,
    ПТ.Проведен КАК Проведен
ИЗ
    Документ.ПередачаТоваров КАК ПТ
ГДЕ
    (   ПТ.Контрагент.ИНН В ("7736330096", "9701148812", "9726076292", "7807399890", "7717519748", "7810796175")
     ИЛИ ПТ.Контрагент.Наименование ПОДОБНО "%ЕВРАЗИЯ%"
     ИЛИ ПТ.Контрагент.Наименование ПОДОБНО "%ФАЛКОН%"
     ИЛИ ПТ.Контрагент.Наименование ПОДОБНО "%КОМИНС%"
     ИЛИ ПТ.Контрагент.Наименование ПОДОБНО "%АКВАНУР%")

УПОРЯДОЧИТЬ ПО
    Дата УБЫВ
```

**Зачем:** Найти ЛЮБЫЕ документы связанные с Питателем — ПТУ, Отчёт комитенту или Передачу. Без фильтра по периоду и ВидОперации.

---

## ДИАГНОСТИКА 4: Все ПокупкаКомиссия за последний год — хотя бы для кого-то?

```
ВЫБРАТЬ ПЕРВЫЕ 50
    ПТУ.Дата КАК Дата,
    ПТУ.Номер КАК Номер,
    ПТУ.Контрагент.Наименование КАК Контрагент,
    ПТУ.Организация.Наименование КАК Организация,
    ПТУ.ВалютаДокумента КАК Валюта,
    ПТУ.СуммаДокумента КАК Сумма,
    ПТУ.НомерВходящегоДокумента КАК НомерДТ,
    ПТУ.Проведен КАК Проведен
ИЗ
    Документ.ПоступлениеТоваровУслуг КАК ПТУ
ГДЕ
    ПТУ.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийПоступлениеТоваровУслуг.ПокупкаКомиссия)
    И ПТУ.Дата >= &НачалоПериода
УПОРЯДОЧИТЬ ПО
    ПТУ.Дата УБЫВ
```
**Параметр:** НачалоПериода = 01.01.2025

**Зачем:** Проверить — есть ли хоть ОДИН документ ПокупкаКомиссия вообще. Если нет — значит документы ещё не создавались или это не та база.

---

## ДИАГНОСТИКА 5 (САМЫЙ ПРОСТОЙ): Что вообще есть за последний месяц?

```
ВЫБРАТЬ
    ПТУ.ВидОперации КАК ВидОперации,
    ПТУ.Контрагент.Наименование КАК Контрагент,
    ПТУ.Организация.Наименование КАК Организация,
    КОЛИЧЕСТВО(ПТУ.Ссылка) КАК Количество
ИЗ
    Документ.ПоступлениеТоваровУслуг КАК ПТУ
ГДЕ
    ПТУ.Дата >= &НачалоПериода
СГРУППИРОВАТЬ ПО
    ПТУ.ВидОперации,
    ПТУ.Контрагент.Наименование,
    ПТУ.Организация.Наименование
УПОРЯДОЧИТЬ ПО
    Количество УБЫВ
```
**Параметр:** НачалоПериода = 01.02.2026

**Зачем:** Увидеть топ контрагентов/операций за последний месяц — быстро понять что вообще создаётся в базе.

---

## Порядок: начни с ДИАГ.1, потом ДИАГ.2, потом ДИАГ.5

Результаты кинь сюда — и я пойму, что именно искать дальше. Даже если текстом в чат, не обязательно в файл.
